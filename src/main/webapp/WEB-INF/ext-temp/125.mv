select  DATE_FORMAT(date,'%Y-%m') k12, count(rid) d1,count(distinct ip) d2 from logs  where 1=1  #if($yue && $yue != '' && $endyue && $endyue != '')  and DATE_FORMAT(date,'%Y-%m') between '$yue' and '$endyue' #end group by DATE_FORMAT(date,'%Y-%m')